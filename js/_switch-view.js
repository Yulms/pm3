"use strict";const TargetView={GRID:"grid",LIST:"list"},LOCAL_STORAGE_PROPERTY_NAME="display";class SwitchView{constructor(i){if(Object.assign(this,{gridTriggerSelector:".switch-view__input--grid",listTriggerSelector:".switch-view__input--list",listElementSelector:".minicard-list__list",listElementGridClass:"minicard-list__list--grid",listElementListClass:"minicard-list__list--list",minicardSelector:".minicard",minicardGridClass:"minicard--grid",minicardListClass:"minicard--list"},i),this.gridTriggerElement=document.querySelector(this.gridTriggerSelector),this.listTriggerElement=document.querySelector(this.listTriggerSelector),!this.gridTriggerElement||!this.listTriggerElement)return;this.gridTriggerElement.targetView=TargetView.GRID,this.listTriggerElement.targetView=TargetView.LIST;const e=this._loadConfigFromLocalStorage();if(e){this._updateTriggersAccordingToConfig({targetView:e})&&this._toggleView({targetView:e})}this._addChangeViewHandlers()}_addChangeViewHandlers(){this.gridTriggerElement.addEventListener("change",()=>{this._toggleView({targetView:this.gridTriggerElement.targetView}),this._saveConfigToLocalStorage({targetView:this.gridTriggerElement.targetView})}),this.listTriggerElement.addEventListener("change",()=>{this._toggleView({targetView:this.listTriggerElement.targetView}),this._saveConfigToLocalStorage({targetView:this.listTriggerElement.targetView})})}_toggleView({targetView:i}){const e=document.querySelector(this.listElementSelector),t=e.querySelectorAll(this.minicardSelector);i===TargetView.GRID?(()=>{e.classList.remove(this.listElementListClass),e.classList.add(this.listElementGridClass),t.forEach(i=>{i.classList.remove(this.minicardListClass),i.classList.add(this.minicardGridClass)})})():(()=>{e.classList.remove(this.listElementGridClass),e.classList.add(this.listElementListClass),t.forEach(i=>{i.classList.remove(this.minicardGridClass),i.classList.add(this.minicardListClass)})})()}_updateTriggersAccordingToConfig({targetView:i}){let e,t=!1;return e=this.gridTriggerElement.targetView===i?this.gridTriggerElement:this.listTriggerElement,e.checked||(e.checked=!0,t=!0),t}_saveConfigToLocalStorage({targetView:i}){localStorage.setItem("display",i)}_loadConfigFromLocalStorage(){return localStorage.getItem("display")}}function initSwitchView(){return new SwitchView}export default initSwitchView;